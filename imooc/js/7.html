<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" Content="text/html; charset=utf-8" />
<title>JavaScript多物体透明度动画效果</title>
<style type="text/css">
*{margin: 0;
padding: 0;}

ul li{

  width: 400px;
  height: 50px;
  background: blue;
  margin-bottom: 20px;
  filter:alpha(opacity:30);
  opacity: 0.3;
  
}

</style>
</head>
<body>
  <h2>JavaScript多物体透明度动画效果</H2>
  <ul>
    <li></li>
    <li></li>
    <li></li>
  </ul>

  <script type="text/javascript">
  window.onload = function(){
      var oLi = document.getElementsByTagName('li');
      for(var i=0;i<oLi.length;i++){
        oLi[i].timer = null;
        oLi[i].alpha = 30;
        oLi[i].onmouseover=function(){
          startMove(this,100);
        }
        oLi[i].onmouseout=function(){
          startMove(this,30);
        }
      }

      function startMove(obj,target){
        clearInterval(obj.timer);
        obj.timer = setInterval(function(){
          var speed = 0;
          if(obj.alpha < target){
              speed = 10;
          }else{
            speed = -10;
          }

            if(obj.alpha == target) {
                clearInterval(obj.timer);
            } else {
              obj.alpha  += speed;
              obj.style.filter="alpha(opacity:"+obj.alpha+")";
              obj.style.opacity=obj.alpha/100;
            }
            
        },30);
      }
  }
  </script>
</body>
</html>