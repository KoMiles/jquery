<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" Content="text/html; charset=utf-8" />
<title>JavaScript多物体动画效果</title>
<style type="text/css">
*{margin: 0;
padding: 0;}

ul li{
  width: 200px;
  height: 100px;
  background: green;
  margin-bottom: 20px;
  
}

</style>
</head>
<body>
  <h2>JavaScript多物体动画效果</H2>
  <ul>
    <li></li>
    <li></li>
    <li></li>
  </ul>

  <script type="text/javascript">
  window.onload = function(){
      var oLi = document.getElementsByTagName('li');
      for(var i=0;i<oLi.length;i++){
        oLi[i].timer = null;
        oLi[i].onmouseover=function(){
          startMove(this,400);
        }
        oLi[i].onmouseout=function(){
          startMove(this,200);
        }
      }


      function startMove(obj,target){
        clearInterval(obj.timer);
        obj.timer = setInterval(function(){
          var speed = (target-obj.offsetWidth)/20;
          speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);

            if(obj.offsetWidth == target) {
                clearInterval(obj.timer);
            } else {
              obj.style.width = obj.offsetWidth + speed + 'px';
            }
            
        },30);
      }
  }
  </script>
</body>
</html>